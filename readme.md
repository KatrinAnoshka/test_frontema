# Сборка проекта
**Описание типового сборщика верстки**

## Запуск сборщика
**Перед выполнением команд необходимо склонировать репозиторий и перейти в папку проекта**

### Установка зависимостей
```
npm i
```

### Запуск шаблона
```
npm start
```

### Сборка билда
```
npm run build
```

## Структура папок и файлов
```
├── src/                             # исходники
│   ├── blocks/                      # блоки
│   │   ├── library/                 # библиотека блоков (кросс-проектные блоки)
│   │   │   └── block-name/          # папка с файлами блока
│   │   │       ├── block-name.pug   # шаблон блока
│   │   │       ├── block-name.js    # поведение блока
│   │   │       └── block-name.scss  # стилизация блока
│   │   │
│   │   ├── project/                 # блоки текущего проекта
│   │   └── utils/                   # миксуемые блоки-утили
│   │       └── block-name.scss      
│   │
│   ├── pages/                       # страницы проекта
│   │   ├── index.pug                # разводящая страница, содержит ссыкли на страницы проекта
│   │   ├── _layout/                 # директория с набором лейаутов страниц
│   │   └── page-name/               # директория с файлами страницы
│   │       ├── index.pug            # разметка страницы
│   │       └── styles.scss          # специфичные стили для страницы (под модификатором страницы)
│   │
│   └── resources/                   # папка с ресурсами проекта
│      ├── data/                     # данные для шаблонизации    
│      ├── fonts/                    # шрифты проекта
│      ├── icons/                    # папка с иконками
│      ├── images/                   # шрифты проекта
│      ├── other/                    # дополнительные ресурсы, копируемые при сборке в корень
│      ├── scripts/                  # js-скрипты проекта
│      │   ├── _tools.js             # общие для проекта функции
│      │   └── main.js               # входной файл скриптов (транспилируется babel-ом)
│      └── styles/                   # дополнительные ресурсы, копируемые при сборке в корень
│          ├── helpers/              # директория со вспомогательными стилями (шрифты, сброс, переменные, миксины)
│          └── main.scss             # входной файл стилей (использует sass-glob для импортов с глобом)
│
│── config/                          # файлы конфигурации сборщика
├── dist/                            # dev-сборка (автогенерация, изменения не фиксируются)
├── build/                           # production-сборка (генерируется командой сборки билда)
│
├── .eslintrc                        # конфигурация проверки js через ESLint
├── .editorconfig                    # конфигурация настроек редактора кода
├── .gitignore                       # список исключённых файлов из Git
├── browserlist                      # список версий браузеров для Autoprefixer
├── gulpfile.babel.js                # файл для запуска gulp
├── package.json                     # список зависимостей и скриптов
└── readme.md                        # документация
```

## Организация кода

### Editorconfig
Для единообразия в форматировании кода используется [Editorconfig](https://editorconfig.org/). Перед стартом работ необходимо проверить соответствие форматирования требованиям. Правила форматирования задаются в файле .editorconfig.

### ESlint
Правила форматирования js-кода заданы в файле .eslintrc, при написании кода необходимо придерживаться правил заданных в конфигурации линтера.

### Autoprefixer
При сборке стилей работает автопрефиксер, не нужно использовать вендорные префиксы.

### Подключение зависимостей
Вендорные скрипты и зависимости подключаются в проект с помощью `npm`.

### БЭМ
При реализации блоков требуется работать по методологии [БЭМ](https://ru.bem.info/methodology/quick-start/). В качестве разделителей элементов используется двойное нижнее подчеркивание `__`, для модификаторов одинарное `_`. Используются полные модификаторы. Миксовать можно только блоки с префиксом `.u-` (блоки-утили).
```
.b-block-name__element.b-block-name__element_mod
```

### BEMTO
Для упрощения написания шаблонов в БЭМ используется решение [bemto](https://github.com/kizu/bemto)

## Специфика адаптивизации
Все адаптивы применяются под модификатором со значением `_adapt_value`, например `_adapt_default` или `_adapat_aside`. Для удобства переиспользования различные состояния блоков хранятся в миксинах в файле стилей блока. Без модификатора можно адаптирвовать блок `b-page`, т.к. он во всех случаях занимает всю ширину страницы.
